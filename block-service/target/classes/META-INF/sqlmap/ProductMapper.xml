<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="com.mwgroup.block.dao.ProductDao">


    <insert id="addProduct" parameterType="com.mwgroup.block.entity.ProductEntity">
        insert into product(
                            title,
                            rate,
                            stock,
                            period,
                            sort,
                            create_time,
                            update_time,
                            is_deleted)
                VALUES (#{product.title},
                        #{product.rate},
                        #{product.stock},
                        #{product.period},
                        #{product.sort},
                        now(),
                        now(),
                        0
               )
    </insert>


    <select id="queryProductList" resultType="com.mwgroup.block.model.ProductDetailVo">
        select
               pid,
               title,
               rate,
               stock,
               period,
               sort
        from product
        where  is_deleted = 0
    </select>


    <select id="getRecommendProduct" resultType="com.mwgroup.block.model.ProductDetailVo">
        select pid,
               title,
               rate,
               stock,
               period,
               sort
        from product
        where  sort = 1
        and is_deleted = 0
        limit 1
    </select>
</mapper>